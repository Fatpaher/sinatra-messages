- if @message.password
  .hidden.params
    #password_presence
      = @message.password
      #encrypted_text
        = @message.encrypted_text
      #encrypted_text_iv
        = @message.encrypted_text_iv

  .message_password
    You need to enter password to see this message
    %form#password_form
      %label{ for: 'password_id' }
        Password
      %input#password_id{ type: 'password' }
      %input{ type:'submit', value: 'Submit' }

.message
  %h2 Message is:
  %br
  .text_output
    - unless @message.password
      = @message.text

%link{:href => "css/form.css", :rel => "stylesheet", :type => "text/css"}/
%script{ :src => "https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js" }
%script{ :src => "javascripts/form.js", :type => "text/javascript" }

%script{:src => "https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"}
%script{:src => "https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/aes-min.js"}
%script{:src => "https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/enc-utf16.js"}
%script{:src => "https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/enc-base64-min.js"}
